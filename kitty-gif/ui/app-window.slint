import { Button, VerticalBox } from "std-widgets.slint";

export global ImageLoader {
    pure callback load_gif_frame() -> image;
}
export component AppWindow inherits Window {
    in property <image> current_frame;
    in property <string> status_text: "Ready";
    in property <int> frame_number: 0;
    in property <int> total_frames: 0;
    
    Rectangle {
        width: 100%;
        height: 100%;
        background: #000000;
        
        Image {
            source: current_frame;
            width: 160px;
            height: 160px;
            //image-fit: contain;
        }
        // Image {
        //     source: @image-url("assets/cat_1_resize.gif"); 
        // }
        // Status overlay
        Rectangle {
            width: 100%;
            height: 30px;
            background: #00000000;
            y: 0px;
            
            Text {
                text: status_text;
                color: white;
                font-size: 10px;
                x: 5px;
                y: 2px;
            }
            
            Text {
                text: "Frame: " + frame_number + "/" + total_frames;
                color: white;
                font-size: 10px;
                x: 5px;
                y: 15px;
            }
        }
    }
    preferred-height: 320px;
    preferred-width: 240px;
    
}
